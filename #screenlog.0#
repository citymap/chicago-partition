hxw186@lab-ubuntu:~/workspace/chicago-partition$ python sim_study.py 
Using TensorFlow backend.
# initialize house-price-softmax-sampler-v1
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 50: 19.4454168367 --> 19.4454168367
Iteration 200: 17.2539226308 --> 17.2539226308
Iteration 700: 14.1964698752 --> 14.1964698752
Iteration 1250: 13.6862645704 --> 13.6862645704
/usr/local/lib/python2.7/dist-packages/scipy/stats/_distn_infrastructure.py:2508: RuntimeWarning: invalid value encountered in true_divide
  pk = 1.0*pk / np.sum(pk, axis=0)
Iteration 2600: 11.4373481095 --> 11.4373481095
Iteration 2750: 11.5358993887 --> 11.5358993887
Iteration 2850: 11.5468153371 --> 11.5468153371
Iteration 2900: 11.5232355419 --> 11.5232355419
Iteration 5550: 10.4422021176 --> 10.4422021176
Iteration 8350: 10.1811439449 --> 10.1811439449
Iteration 11500: 9.22324847256 --> 9.22324847256
Iteration 12200: 8.94583671963 --> 8.94583671963
Iteration 21400: 9.21598483792 --> 9.21598483792
Iteration 22100: 9.17675937036 --> 9.17675937036
Iteration 23050: 9.20304197914 --> 9.20304197914
converge in 26364 samples with 802 acceptances                     sample conversion rate 0.0304202700652
leave one out with optimal boundary in 2011
(23.112250826155318, 18.444196555240538, 0.13131712357891911)
# initialize house-price-naive-sampler-v1
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 50: 18.0345666424 --> 18.0345666424
Iteration 100: 16.5463289814 --> 16.5463289814
Iteration 150: 15.6272740449 --> 15.6272740449
Iteration 200: 14.7108863558 --> 14.7108863558
converge in 319 samples with 168 acceptances                     sample conversion rate 0.526645768025
leave one out with optimal boundary in 2011
(34.579261444307924, 28.91621486033732, 0.19493555240489382)
# initialize house-price-softmax-sampler-v2
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 50: 19.6086015649 --> 19.6086015649
Iteration 450: 18.5305048522 --> 18.5305048522
Iteration 500: 17.839311237 --> 17.839311237
Iteration 2250: 12.565529237 --> 12.565529237
Iteration 3950: 7.99698986672 --> 7.99698986672
Iteration 4000: 7.9397363294 --> 7.9397363294
Iteration 4450: 7.70351944757 --> 7.70351944757
Iteration 5050: 7.70439766696 --> 7.70439766696
Iteration 5450: 7.51522175677 --> 7.51522175677
Iteration 6200: 8.18136646303 --> 8.18136646303
Iteration 7100: 7.52571077514 --> 7.52571077514
Iteration 7150: 7.54842484008 --> 7.54842484008
Iteration 7450: 7.35951839356 --> 7.35951839356
Iteration 11700: 6.25058396343 --> 6.25058396343
Iteration 13550: 5.78270444556 --> 5.78270444556
converge in 15361 samples with 1193 acceptances                     sample conversion rate 0.0776642145694
leave one out with optimal boundary in 2011
(28.352420962395392, 26.55549789229644, 0.1574449981022583)
# initialize house-price-naive-sampler-v2
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 50: 19.4833710079 --> 19.4833710079
Iteration 100: 18.6645904299 --> 18.6645904299
Iteration 250: 16.4026098319 --> 16.4026098319
Iteration 300: 15.8397523005 --> 15.8397523005
Iteration 350: 15.1417001051 --> 15.1417001051
Iteration 400: 14.6595753711 --> 14.6595753711
Iteration 550: 12.9961908252 --> 12.9961908252
Iteration 650: 11.0900719404 --> 11.0900719404
Iteration 700: 10.3432427771 --> 10.3432427771
Iteration 750: 10.1013176009 --> 10.1013176009
Iteration 800: 9.94978850918 --> 9.94978850918
Iteration 1000: 8.40784429009 --> 8.40784429009
Iteration 1100: 7.58681986796 --> 7.58681986796
Iteration 1250: 7.652839993 --> 7.652839993
Iteration 1400: 6.91237875832 --> 6.91237875832
converge in 1440 samples with 575 acceptances                     sample conversion rate 0.399305555556
leave one out with optimal boundary in 2011
(20.497891318964452, 16.27314172112498, 0.1168049575577192)
# initialize house-price-softmax-sampler-v3
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 100: 16.7890972815 --> 16.7890972815
Iteration 250: 15.8298407243 --> 15.8298407243
Iteration 700: 13.9756349862 --> 13.9756349862
Iteration 750: 13.7056695977 --> 13.7056695977
Iteration 1500: 11.9661915703 --> 11.9661915703
Iteration 1750: 11.3579470155 --> 11.3579470155
Iteration 2350: 11.1885078607 --> 11.1885078607
Iteration 2450: 10.8222255709 --> 10.8222255709
Iteration 2700: 10.970270821 --> 10.970270821
Iteration 4550: 9.51117002706 --> 9.51117002706
converge in 5060 samples with 615 acceptances                     sample conversion rate 0.121541501976
leave one out with optimal boundary in 2011
(25.301366537685464, 21.59541152084215, 0.14404400501815257)
# initialize house-price-naive-sampler-v3
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 100: 17.6108218045 --> 17.6108218045
Iteration 150: 16.995275897 --> 16.995275897
Iteration 300: 14.9837240703 --> 14.9837240703
Iteration 350: 14.3744271202 --> 14.3744271202
Iteration 600: 11.9400522729 --> 11.9400522729
Iteration 700: 11.6632772037 --> 11.6632772037
Iteration 850: 11.2594506098 --> 11.2594506098
Iteration 900: 10.6350178039 --> 10.6350178039
Iteration 950: 10.2581084613 --> 10.2581084613
Iteration 1000: 10.1928615575 --> 10.1928615575
Iteration 1250: 9.81384174463 --> 9.81384174463
Iteration 1450: 9.03404859729 --> 9.03404859729
converge in 1544 samples with 606 acceptances                     sample conversion rate 0.392487046632
leave one out with optimal boundary in 2011
(17.31145191324809, 14.952364281655557, 0.09684207692304439)
# initialize house-price-softmax-sampler-v4
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 450: 16.1899929651 --> 16.1899929651
Iteration 550: 15.5014367125 --> 15.5014367125
Iteration 1000: 12.4235767674 --> 12.4235767674
Iteration 1150: 12.6497705628 --> 12.6497705628
Iteration 1400: 12.5957398497 --> 12.5957398497
Iteration 1450: 12.5072603371 --> 12.5072603371
Iteration 2450: 10.9325067408 --> 10.9325067408
Iteration 2850: 10.6096704815 --> 10.6096704815
Iteration 3100: 10.5768991493 --> 10.5768991493
Iteration 4150: 9.62760908619 --> 9.62760908619
Iteration 4200: 9.65938846948 --> 9.65938846948
converge in 4215 samples with 629 acceptances                     sample conversion rate 0.149228944247
leave one out with optimal boundary in 2011
(24.42804608408325, 19.597108857315952, 0.13699298592256823)
# initialize house-price-naive-sampler-v4
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 300: 15.5249712974 --> 15.5249712974
Iteration 350: 15.1362306864 --> 15.1362306864
Iteration 650: 11.2267972705 --> 11.2267972705
Iteration 700: 11.1916827372 --> 11.1916827372
Iteration 950: 10.0418168356 --> 10.0418168356
Iteration 1000: 10.119951132 --> 10.119951132
Iteration 1050: 9.71117877262 --> 9.71117877262
Iteration 1100: 8.64145088474 --> 8.64145088474
Iteration 1350: 8.26593018878 --> 8.26593018878
converge in 1418 samples with 541 acceptances                     sample conversion rate 0.381523272214
leave one out with optimal boundary in 2011
(30.789091727578008, 24.385728385352845, 0.17304328722726664)
# initialize house-price-softmax-sampler-v5
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 300: 16.2715418571 --> 16.2715418571
Iteration 350: 16.0877167379 --> 16.0877167379
Iteration 600: 13.8137705628 --> 13.8137705628
Iteration 700: 13.3190817287 --> 13.3190817287
Iteration 950: 12.7101637632 --> 12.7101637632
Iteration 1400: 11.4137680689 --> 11.4137680689
Iteration 1550: 9.99536638533 --> 9.99536638533
Iteration 1950: 9.71830060242 --> 9.71830060242
Iteration 5400: 7.65072766091 --> 7.65072766091
Iteration 8200: 8.21646989292 --> 8.21646989292
Iteration 8750: 7.95744361496 --> 7.95744361496
Iteration 10550: 7.53558145263 --> 7.53558145263
converge in 11072 samples with 720 acceptances                     sample conversion rate 0.0650289017341
leave one out with optimal boundary in 2011
(28.327652518277024, 37.43617000897055, 0.15370187075809066)
# initialize house-price-naive-sampler-v5
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 50: 18.451809202 --> 18.451809202
Iteration 150: 15.9485242159 --> 15.9485242159
Iteration 200: 15.5297097589 --> 15.5297097589
Iteration 250: 14.8779685769 --> 14.8779685769
Iteration 350: 13.9101342737 --> 13.9101342737
Iteration 400: 13.393720295 --> 13.393720295
Iteration 450: 13.050416937 --> 13.050416937
Iteration 500: 12.1305039721 --> 12.1305039721
Iteration 650: 10.5901481308 --> 10.5901481308
Iteration 700: 10.3460260132 --> 10.3460260132
Iteration 800: 9.82736382529 --> 9.82736382529
Iteration 850: 10.0658807713 --> 10.0658807713
Iteration 900: 10.1897229311 --> 10.1897229311
converge in 919 samples with 406 acceptances                     sample conversion rate 0.441784548422
leave one out with optimal boundary in 2011
(20.497611779721655, 20.86326041140635, 0.1159228564745194)
# initialize house-price-softmax-sampler-v6
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 50: 19.2905970775 --> 19.2905970775
Iteration 150: 18.5052142415 --> 18.5052142415
Iteration 300: 17.0091147593 --> 17.0091147593
Iteration 450: 16.248088218 --> 16.248088218
Iteration 750: 15.0193569757 --> 15.0193569757
Iteration 1100: 14.8158308632 --> 14.8158308632
Iteration 1150: 14.8254032767 --> 14.8254032767
Iteration 1500: 12.5718026987 --> 12.5718026987
Iteration 1650: 11.1238109474 --> 11.1238109474
Iteration 1700: 11.1704311389 --> 11.1704311389
Iteration 4350: 10.1624561816 --> 10.1624561816
converge in 4477 samples with 514 acceptances                     sample conversion rate 0.1148090239
leave one out with optimal boundary in 2011
(29.952225395219656, 25.674995554586516, 0.1666791101627531)
# initialize house-price-naive-sampler-v6
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 150: 17.1247942518 --> 17.1247942518
Iteration 350: 12.7382622988 --> 12.7382622988
Iteration 400: 10.9143454798 --> 10.9143454798
Iteration 650: 9.17731687601 --> 9.17731687601
Iteration 700: 9.28366834879 --> 9.28366834879
Iteration 850: 9.11907425915 --> 9.11907425915
Iteration 1000: 8.35447877827 --> 8.35447877827
Iteration 1050: 8.1559804347 --> 8.1559804347
Iteration 1100: 8.06893151002 --> 8.06893151002
Iteration 1150: 7.81618028781 --> 7.81618028781
Iteration 1250: 7.49722347034 --> 7.49722347034
Iteration 1350: 7.34576789509 --> 7.34576789509
converge in 1404 samples with 589 acceptances                     sample conversion rate 0.419515669516
leave one out with optimal boundary in 2011
(22.967911680688477, 21.306756926662004, 0.13151771694718872)
# initialize house-price-softmax-sampler-v7
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 1900: 12.6720663819 --> 12.6720663819
Iteration 2150: 12.2437061979 --> 12.2437061979
Iteration 2500: 11.8335032763 --> 11.8335032763
Iteration 2650: 11.8801330568 --> 11.8801330568
Iteration 3700: 9.72853634308 --> 9.72853634308
Iteration 4200: 8.32482421131 --> 8.32482421131
Iteration 4300: 8.00292974852 --> 8.00292974852
Iteration 4650: 8.12684570975 --> 8.12684570975
Iteration 4750: 8.15971018145 --> 8.15971018145
Iteration 5200: 6.65401700688 --> 6.65401700688
Iteration 5550: 6.75158888468 --> 6.75158888468
Iteration 5700: 6.43885446392 --> 6.43885446392
Iteration 6450: 6.19634128809 --> 6.19634128809
Iteration 7350: 6.05996977429 --> 6.05996977429
Iteration 7450: 5.88450747096 --> 5.88450747096
Iteration 8000: 6.43509455663 --> 6.43509455663
Iteration 8050: 6.31402679952 --> 6.31402679952
Iteration 8350: 6.12736820695 --> 6.12736820695
Iteration 9800: 5.70488886105 --> 5.70488886105
Iteration 11450: 6.4016608366 --> 6.4016608366
Iteration 11900: 6.51571788537 --> 6.51571788537
Iteration 12300: 6.71634745201 --> 6.71634745201
converge in 12545 samples with 1227 acceptances                     sample conversion rate 0.0978078915903
leave one out with optimal boundary in 2011
(28.499737974596226, 23.593633659906605, 0.16449787101084798)
# initialize house-price-naive-sampler-v7
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 100: 16.9529449782 --> 16.9529449782
Iteration 150: 15.8650626191 --> 15.8650626191
Iteration 350: 12.6112459603 --> 12.6112459603
Iteration 450: 11.5138354999 --> 11.5138354999
Iteration 500: 10.9026997045 --> 10.9026997045
Iteration 550: 10.4804252911 --> 10.4804252911
Iteration 650: 10.0786664015 --> 10.0786664015
Iteration 800: 9.57370950365 --> 9.57370950365
Iteration 850: 9.52159580372 --> 9.52159580372
Iteration 900: 9.45314216505 --> 9.45314216505
Iteration 1050: 8.48805433495 --> 8.48805433495
Iteration 1100: 8.24693175871 --> 8.24693175871
Iteration 1150: 8.13409367828 --> 8.13409367828
Iteration 1250: 7.66125535534 --> 7.66125535534
Iteration 1300: 7.56367969692 --> 7.56367969692
converge in 1346 samples with 545 acceptances                     sample conversion rate 0.404903417533
leave one out with optimal boundary in 2011
(15.190672797360214, 13.932883761170684, 0.08594997083440575)
# initialize house-price-softmax-sampler-v8
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 50: 18.4794459567 --> 18.4794459567
Iteration 250: 17.1476421659 --> 17.1476421659
Iteration 1250: 13.2365463578 --> 13.2365463578
Iteration 2250: 12.4308141942 --> 12.4308141942
Iteration 3700: 12.469136733 --> 12.469136733
Iteration 4850: 12.5161045681 --> 12.5161045681
Iteration 5200: 12.1349160913 --> 12.1349160913
Iteration 13100: 10.0570346775 --> 10.0570346775
converge in 14475 samples with 626 acceptances                     sample conversion rate 0.0432469775475
leave one out with optimal boundary in 2011
(19.32418131859536, 20.682258323775994, 0.10648328679801221)
# initialize house-price-naive-sampler-v8
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 100: 17.0643657677 --> 17.0643657677
Iteration 200: 14.7290448156 --> 14.7290448156
Iteration 250: 14.3043394927 --> 14.3043394927
Iteration 300: 13.9224360931 --> 13.9224360931
Iteration 350: 13.8975520304 --> 13.8975520304
Iteration 450: 12.4594963105 --> 12.4594963105
Iteration 500: 11.5430162027 --> 11.5430162027
Iteration 750: 10.7796321359 --> 10.7796321359
Iteration 800: 10.5404908483 --> 10.5404908483
Iteration 1000: 9.55893215382 --> 9.55893215382
Iteration 1200: 9.04025280007 --> 9.04025280007
Iteration 1250: 8.95893830766 --> 8.95893830766
Iteration 1300: 8.85503862368 --> 8.85503862368
Iteration 1450: 8.33629417776 --> 8.33629417776
Iteration 1550: 7.97890781611 --> 7.97890781611
Iteration 1600: 7.79306584458 --> 7.79306584458
Iteration 1650: 7.55321160857 --> 7.55321160857
Iteration 1750: 7.32892026227 --> 7.32892026227
Iteration 1850: 7.30236662726 --> 7.30236662726
converge in 1968 samples with 725 acceptances                     sample conversion rate 0.368394308943
leave one out with optimal boundary in 2011
(16.324553628963823, 14.869011190259341, 0.09031200083139528)
# initialize house-price-softmax-sampler-v9
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 100: 19.1148634998 --> 19.1148634998
Iteration 150: 17.7784741968 --> 17.7784741968
Iteration 650: 17.0575529936 --> 17.0575529936
Iteration 850: 16.0111849912 --> 16.0111849912
Iteration 1400: 14.1011586118 --> 14.1011586118
Iteration 2200: 13.8682790177 --> 13.8682790177
Iteration 2300: 13.5433383291 --> 13.5433383291
Iteration 4050: 12.9508135573 --> 12.9508135573
Iteration 4200: 12.5305726734 --> 12.5305726734
Iteration 5900: 11.5314812787 --> 11.5314812787
Iteration 6100: 11.4005643606 --> 11.4005643606
Iteration 6350: 10.9126578921 --> 10.9126578921
Iteration 9450: 10.5027180386 --> 10.5027180386
Iteration 12900: 9.58223904811 --> 9.58223904811
Iteration 16050: 9.70845316509 --> 9.70845316509
Iteration 17450: 9.75770861395 --> 9.75770861395
converge in 20956 samples with 644 acceptances                     sample conversion rate 0.030731055545
leave one out with optimal boundary in 2011
(32.46796400283819, 28.7126589152685, 0.1816087158590786)
# initialize house-price-naive-sampler-v9
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 100: 17.5154093779 --> 17.5154093779
Iteration 150: 16.4781582048 --> 16.4781582048
Iteration 200: 16.1707173141 --> 16.1707173141
Iteration 250: 15.5755281187 --> 15.5755281187
Iteration 400: 12.1708375809 --> 12.1708375809
Iteration 650: 10.4857030143 --> 10.4857030143
Iteration 1000: 8.90353100361 --> 8.90353100361
Iteration 1200: 8.15737196401 --> 8.15737196401
Iteration 1650: 6.60580897649 --> 6.60580897649
Iteration 1750: 6.50049204094 --> 6.50049204094
Iteration 1850: 6.22175906461 --> 6.22175906461
Iteration 1950: 6.07661438754 --> 6.07661438754
Iteration 2100: 6.63644866073 --> 6.63644866073
Iteration 2150: 6.59752211193 --> 6.59752211193
Iteration 2250: 5.90874044735 --> 5.90874044735
converge in 2507 samples with 839 acceptances                     sample conversion rate 0.334662943757
leave one out with optimal boundary in 2011
(21.864942721963704, 18.510663762301466, 0.1238608580669607)
# initialize house-price-softmax-sampler-v10
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 50: 18.1281227833 --> 18.1281227833
Iteration 100: 17.4342575301 --> 17.4342575301
Iteration 150: 17.1072524759 --> 17.1072524759
Iteration 700: 14.868826355 --> 14.868826355
Iteration 2000: 12.671967439 --> 12.671967439
Iteration 6850: 10.3525282769 --> 10.3525282769
Iteration 9650: 10.3202380243 --> 10.3202380243
Iteration 10550: 10.1921878283 --> 10.1921878283
Iteration 11600: 9.72004372362 --> 9.72004372362
Iteration 13750: 9.80792821577 --> 9.80792821577
Iteration 16600: 10.4792897188 --> 10.4792897188
Iteration 21000: 9.24202262022 --> 9.24202262022
Iteration 25400: 9.1893784675 --> 9.1893784675
Iteration 26900: 9.02904943758 --> 9.02904943758
Iteration 30200: 8.46615340716 --> 8.46615340716
Iteration 35450: 8.83176227487 --> 8.83176227487
Iteration 39100: 8.51533337815 --> 8.51533337815
Iteration 41800: 8.90195528857 --> 8.90195528857
Iteration 45050: 8.39131171803 --> 8.39131171803:q

Iteration 45700: 8.384527357 --> 8.384527357
Cannot find better flip within 501 steps
leave one out with optimal boundary in 2011
(25.36153984630532, 24.681382931022103, 0.142868045595654)
# initialize house-price-naive-sampler-v10
# sampling
leave one out with Administrative boundary in 2011
(36.3832774929534, 30.67645467984027, 0.20641073882214295)
# sampling
Iteration 50: 19.3122613753 --> 19.3122613753
Iteration 200: 16.5537150831 --> 16.5537150831
Iteration 500: 12.8653396307 --> 12.8653396307
Iteration 750: 11.6194673628 --> 11.6194673628
Iteration 900: 11.1850385153 --> 11.1850385153
Iteration 1000: 10.8308033381 --> 10.8308033381
Iteration 1050: 10.9148989172 --> 10.9148989172
Iteration 1200: 10.6562603803 --> 10.6562603803
Iteration 1250: 10.7557136947 --> 10.7557136947
Iteration 1300: 10.5773766474 --> 10.5773766474
Iteration 1500: 9.16950742888 --> 9.16950742888
Iteration 1550: 9.28158213657 --> 9.28158213657
Iteration 1800: 8.95518587804 --> 8.95518587804
converge in 1892 samples with 708 acceptances                     sample conversion rate 0.374207188161
leave one out with optimal boundary in 2011
(22.06411199444326, 21.580369769002058, 0.12587251741274616)
hxw186@lab-ubuntu:~/workspace/chicago-partition$ python sim_study.py exit[K[2Plscd plots/git statusgatusls[Kcd workspace/chicago-partition/ls[Kexit[2Plscd workspace/chicago-partition/ls[Kgit stgatus[1Patus[1Pcd plots/ls[Kexitpython sim_study.py [K